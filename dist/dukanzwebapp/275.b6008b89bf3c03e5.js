"use strict";(self.webpackChunkmatx_angular_latest_test=self.webpackChunkmatx_angular_latest_test||[]).push([[275],{69275:(jt,Z,c)=>{c.r(Z),c.d(Z,{ManagmentModule:()=>Bt});var S=c(19132),C=c(36895),l=c(24006),F=c(69814),N=c(80529),m=c(15861),v=c(64541);class Q{constructor(a){this.obj=a}}var P=c(54004),f=c(65938),t=c(94650),T=c(61135);let x=(()=>{class e{constructor(r){this.http=r,this.baseUrl="https://dukanzapinew.azurewebsites.net/api/"}get(r){return console.log("api called "+this.baseUrl+r),this.http.get(this.baseUrl+r)}post(r,o){return this.http.post(this.baseUrl+r,o)}put(r,o){return this.http.put(this.baseUrl+r,o)}delete(r,o){return this.http.delete(this.baseUrl+r,{body:o})}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(N.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_=(()=>{class e{constructor(r){this.apiService=r,this.ProductCategories=new T.X([])}getCatagories(){var r=this;return(0,m.Z)(function*(){try{const o=yield r.apiService.get("ProductCategory").toPromise();r.ProductCategories.next(o),console.log("this.ProductCategoryChanged.next")}catch(o){console.error("Error getting categories:",o)}})()}newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=16*Math.random()|0;return("x"==r?o:3&o|8).toString(16)})}saveNewCatagory(r){var o=this;return(0,m.Z)(function*(){try{r.id=o.newGuid(),r.partitionKey=r.id,yield o.apiService.post("ProductCategory",r).toPromise(),console.log("New category saved successfully.")}catch(n){console.error("Error saving category:",n)}})()}updateCatagory(r){var o=this;return(0,m.Z)(function*(){try{yield o.apiService.put("ProductCategory",r).toPromise(),console.log("Category updated successfully.")}catch(n){console.error("Error updating category:",n)}})()}deleteCatagory(r){var o=this;return(0,m.Z)(function*(){try{yield o.apiService.delete("ProductCategory",r).toPromise(),console.log("Category deleted successfully.")}catch(n){console.error("Error deleting category:",n)}})()}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(x))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var A=c(56709),h=c(4859),D=c(59549),U=c(44144),b=c(44850),g=c(73546),p=c(1576);let q=(()=>{class e{constructor(r){this.el=r}onKeyDown(r){let o=r;if(this.OnlyNumber){if(-1!==[46,8,9,27,13,110,190].indexOf(o.keyCode)||65===o.keyCode&&(o.ctrlKey||o.metaKey)||67===o.keyCode&&(o.ctrlKey||o.metaKey)||86===o.keyCode&&(o.ctrlKey||o.metaKey)||88===o.keyCode&&(o.ctrlKey||o.metaKey)||o.keyCode>=35&&o.keyCode<=39)return;(o.shiftKey||o.keyCode<48||o.keyCode>57)&&(o.keyCode<96||o.keyCode>105)&&o.preventDefault()}}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(t.SBq))},e.\u0275dir=t.lG2({type:e,selectors:[["","OnlyNumber",""]],hostBindings:function(r,o){1&r&&t.NdJ("keydown",function(i){return o.onKeyDown(i)})},inputs:{OnlyNumber:"OnlyNumber"}}),e})();function R(e,a){1&e&&(t.TgZ(0,"small",15),t._uU(1," Catagory Name required "),t.qZA())}function k(e,a){1&e&&(t.TgZ(0,"small",15),t._uU(1," URL required "),t.qZA())}let M=(()=>{class e{constructor(r,o,n,i){this.catagoryData=r,this.catagoryService=o,this.dialogRef=n,this.formBuilder=i,this.mode=""}ngOnInit(){console.log("this.catagoryData ",this.catagoryData.id),this.catagoryData.id?this.mode="Edit":(this.mode="New",this.catagoryData.visible=!0,this.catagoryData.productCategoryName="",this.catagoryData.productCategoryImageURL="",this.catagoryData.order=0),this.catagoryForm=this.formBuilder.group({productCategoryName:["",l.kI.required],productCategoryImageURL:["",l.kI.required],visible:[""],order:["",l.kI.required]})}onSubmit(){var r=this;return(0,m.Z)(function*(){if("New"===r.mode)try{yield r.catagoryService.saveNewCatagory(r.catagoryData),r.dialogRef.close()}catch(o){console.error("Error saving category:",o)}else try{yield r.catagoryService.updateCatagory(r.catagoryData),console.log("Update Category Completed"),r.dialogRef.close()}catch(o){console.error("Error updating category:",o)}})()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(f.WI),t.Y36(_),t.Y36(f.so),t.Y36(l.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-catagory"]],decls:25,vars:8,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","200","fxFlex.gt-xs","100",1,"pr-8"],[1,"pb-8"],[1,"full-width"],["matInput","","name","productCategoryName","formControlName","productCategoryName","placeholder","Catagory Name",3,"ngModel","ngModelChange"],["class","form-error-msg",4,"ngIf"],["matInput","","name","productCategoryImageURL","formControlName","productCategoryImageURL","placeholder","Catagory URL",3,"ngModel","ngModelChange"],[1,"pb-16","pt-8"],["name","visible","formControlName","visible",1,"pb-16",3,"ngModel","ngModelChange"],["OnlyNumber","true","matInput","","name","order","formControlName","order","placeholder","Order",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-error-msg"]],template:function(r,o){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title",1)(2,"div",2),t._uU(3,"Catagory"),t.qZA(),t._UZ(4,"mat-divider"),t.qZA(),t.TgZ(5,"mat-card-content")(6,"form",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"input",8),t.NdJ("ngModelChange",function(i){return o.catagoryData.productCategoryName=i}),t.qZA()(),t.YNc(12,R,2,0,"small",9),t.qZA(),t.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"input",10),t.NdJ("ngModelChange",function(i){return o.catagoryData.productCategoryImageURL=i}),t.qZA()(),t.YNc(16,k,2,0,"small",9),t.qZA(),t.TgZ(17,"div",11)(18,"mat-checkbox",12),t.NdJ("ngModelChange",function(i){return o.catagoryData.visible=i}),t._uU(19,"Visible"),t.qZA()(),t.TgZ(20,"div",6)(21,"mat-form-field",7)(22,"input",13),t.NdJ("ngModelChange",function(i){return o.catagoryData.order=i}),t.qZA()()()()(),t.TgZ(23,"button",14),t.NdJ("click",function(){return o.onSubmit()}),t._uU(24,"Submit"),t.qZA()()()()),2&r&&(t.xp6(6),t.Q6J("formGroup",o.catagoryForm),t.xp6(5),t.Q6J("ngModel",o.catagoryData.productCategoryName),t.xp6(1),t.Q6J("ngIf",o.catagoryForm.controls.productCategoryName.touched&&o.catagoryForm.controls.productCategoryName.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.catagoryData.productCategoryImageURL),t.xp6(1),t.Q6J("ngIf",!o.catagoryForm.controls.productCategoryImageURL.touched&&o.catagoryForm.controls.productCategoryImageURL.hasError("required")),t.xp6(2),t.Q6J("ngModel",o.catagoryData.visible),t.xp6(4),t.Q6J("ngModel",o.catagoryData.order),t.xp6(1),t.Q6J("disabled",o.catagoryForm.invalid))},dependencies:[C.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.oG,h.lW,D.KE,U.Nt,b.d,g.a8,g.dn,g.n5,p.xw,p.yH,q]}),e})();var d=c(30671),L=c(77331),w=c(97392);function O(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Name"),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"td",16)(1,"div",17)(2,"p",18),t._uU(3),t.qZA()()()),2&e){const r=a.$implicit;t.xp6(3),t.hij(" ",r.productCategoryName," ")}}function B(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1,"URL"),t.qZA())}function H(e,a){if(1&e&&(t.TgZ(0,"td",16)(1,"div",17),t._UZ(2,"img",19),t.qZA()()),2&e){const r=a.$implicit;t.xp6(2),t.s9C("src",r.productCategoryImageURL,t.LSH)}}function $(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Visible"),t.qZA())}function G(e,a){if(1&e&&(t.TgZ(0,"td",20)(1,"mat-chip",21),t._uU(2),t.qZA()()),2&e){const r=a.$implicit;t.xp6(2),t.hij(" ",r.visible," ")}}function K(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Order"),t.qZA())}function z(e,a){if(1&e&&(t.TgZ(0,"td",20)(1,"mat-chip",21),t._uU(2),t.qZA()()),2&e){const r=a.$implicit;t.xp6(2),t.hij(" ",r.order," ")}}function j(e,a){1&e&&(t.TgZ(0,"th",15),t._uU(1,"Order"),t.qZA())}function X(e,a){1&e&&(t.TgZ(0,"td",20)(1,"button",22)(2,"mat-icon",23),t._uU(3," edit "),t.qZA()()())}function V(e,a){if(1&e){const r=t.EpF();t.TgZ(0,"mat-header-cell")(1,"button",24),t.NdJ("click",function(){t.CHM(r);const n=t.oxw();return t.KtG(n.addNew())}),t.TgZ(2,"mat-icon",25),t._uU(3,"add"),t.qZA()()()}}function W(e,a){if(1&e){const r=t.EpF();t.TgZ(0,"mat-cell")(1,"button",26),t.NdJ("click",function(){const n=t.CHM(r),i=n.index,u=n.$implicit,s=t.oxw();return t.KtG(s.editItem(i,u))}),t.TgZ(2,"mat-icon",27),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",26),t.NdJ("click",function(){const n=t.CHM(r),i=n.index,u=n.$implicit,s=t.oxw();return t.KtG(s.deleteItem(i,u))}),t.TgZ(5,"mat-icon",28),t._uU(6,"delete"),t.qZA()()()}}function tt(e,a){1&e&&t._UZ(0,"tr",29)}function et(e,a){1&e&&t._UZ(0,"tr",30)}let ot=(()=>{class e{constructor(r,o,n){this.catagoryService=r,this.dialog=o,this.productCategoriesData=n,this.displayedColumns=["productCategoryName","productCategoryImageURL","visible","order","actions"],this.objectCount=0,this.productCategoriesForTable$=this.catagoryService.ProductCategories.asObservable().pipe((0,P.U)(i=>(this.productCategoriesData.data=i,console.log("Data loaded"),this.productCategoriesData)))}ngAfterViewInit(){}ngOnInit(){console.log("Data service called"),this.catagoryService.getCatagories()}addNew(){this.dialog.open(M,{data:new Q({id:""})}).afterClosed().subscribe(o=>{this.catagoryService.getCatagories()})}editItem(r,o){var n=this;this.dialog.open(M,{data:o}).afterClosed().subscribe(function(){var u=(0,m.Z)(function*(s){if(s)try{yield n.catagoryService.updateCatagory(s),n.catagoryService.getCatagories()}catch(y){console.error("Error updating category:",y)}});return function(s){return u.apply(this,arguments)}}())}deleteItem(r,o){var n=this;return(0,m.Z)(function*(){if(confirm("Are you sure to delete "+o.productCategoryName))try{yield n.catagoryService.deleteCatagory(o),n.productCategoriesData.data.splice(r,1),n.productCategoriesData._updateChangeSubscription()}catch(i){console.error("Error deleting category:",i)}})()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(_),t.Y36(f.uw),t.Y36(d.by))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-catagory"]],decls:23,vars:5,consts:[["fxLayout","row wrap",1,"p-0","overflow-x-auto"],["mat-table","","fxFlex","",1,"mat-elevation-z1","min-w-600",3,"dataSource"],["matColumnDef","productCategoryName"],["mat-header-cell","",4,"matHeaderCellDef"],["class","py-12","mat-cell","",4,"matCellDef"],["matColumnDef","productCategoryImageURL"],["matColumnDef","visible"],["mat-cell","",4,"matCellDef"],["matColumnDef","order"],["matColumnDef","Order"],["matColumnDef","actions"],[4,"matHeaderCellDef"],[4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell","",1,"py-12"],["fxLayout","row wrap","fxLayoutAlign","start center"],[1,"m-0","ml-12","text-capitalize"],[1,"avatar-sm","rounded-circle",3,"src"],["mat-cell",""],[1,"align-middle","py-4","px-8"],["mat-icon-button",""],[1,"mat-18","mat-color-primary"],["mat-icon-button","","color","primary",3,"click"],["aria-label","Example icon-button with a heart icon"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["aria-label","Delete"],["mat-header-row",""],["mat-row",""]],template:function(r,o){1&r&&(t.TgZ(0,"mat-card",0)(1,"table",1),t.ALo(2,"async"),t.ynx(3,2),t.YNc(4,O,2,0,"th",3),t.YNc(5,E,4,1,"td",4),t.BQk(),t.ynx(6,5),t.YNc(7,B,2,0,"th",3),t.YNc(8,H,3,1,"td",4),t.BQk(),t.ynx(9,6),t.YNc(10,$,2,0,"th",3),t.YNc(11,G,3,1,"td",7),t.BQk(),t.ynx(12,8),t.YNc(13,K,2,0,"th",3),t.YNc(14,z,3,1,"td",7),t.BQk(),t.ynx(15,9),t.YNc(16,j,2,0,"th",3),t.YNc(17,X,4,0,"td",7),t.BQk(),t.ynx(18,10),t.YNc(19,V,4,0,"mat-header-cell",11),t.YNc(20,W,7,0,"mat-cell",12),t.BQk(),t.YNc(21,tt,1,0,"tr",13),t.YNc(22,et,1,0,"tr",14),t.qZA()()),2&r&&(t.xp6(1),t.Q6J("dataSource",t.lcZ(2,3,o.productCategoriesForTable$)),t.xp6(20),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns))},dependencies:[h.lW,g.a8,L.HS,w.Hw,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,p.xw,p.Wh,p.yH,C.Ov],data:{animation:v.i}}),e})();class rt{constructor(a,r,o,n,i,u,s,y,Ht,$t,Gt,Kt,zt){this.id=a,this.productName=r,this.orignalPrice=o,this.currentPrice=n,this.currentCost=i,this.unitName=u,this.displayPercentage=s,this.imageURL=y,this.visible=Ht,this.order=$t,this.productCategoryId=Gt,this.productDescription=Kt,this.displayUnitName=zt}}let J=(()=>{class e{constructor(r){this.apiService=r,this.products=new T.X([]),this.loadProducts()}getProducts(){return this.products.asObservable()}loadProducts(){var r=this;return(0,m.Z)(function*(){try{const o=yield r.apiService.get("product").toPromise();r.products.next(o),console.log("Products updated."),console.log("Products count. "+o.length.toString())}catch(o){console.error("Error getting products:",o)}})()}addProduct(r){var o=this;return(0,m.Z)(function*(){try{const n=yield o.apiService.post("product",r).toPromise();o.products.next([...o.products.value,n]),console.log("New product added successfully.")}catch(n){console.error("Error adding product:",n)}})()}updateProduct(r){var o=this;return(0,m.Z)(function*(){try{yield o.apiService.put("product",r).toPromise(),console.log("Product updated successfully.")}catch(n){console.error("Error updating product:",n)}})()}deleteProduct(r){var o=this;return(0,m.Z)(function*(){try{yield o.apiService.delete(`product/${r.id}`,null).toPromise();const n=o.products.value.filter(i=>i.id!==r.id);o.products.next(n),console.log("Product deleted successfully.")}catch(n){console.error("Error deleting product:",n)}})()}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(x))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function at(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Product Name required "),t.qZA())}function nt(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Product Description required "),t.qZA())}function it(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Original Price required "),t.qZA())}function ct(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Current Price required "),t.qZA())}function dt(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Current Cost required "),t.qZA())}function lt(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Unit Name required "),t.qZA())}function ut(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Display Percentage required "),t.qZA())}function mt(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Display Unit Name required "),t.qZA())}function st(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Image URL required "),t.qZA())}function pt(e,a){1&e&&(t.TgZ(0,"small",21),t._uU(1,"Order required "),t.qZA())}let Y=(()=>{class e{constructor(r,o,n,i){this.productData=r,this.productService=o,this.dialogRef=n,this.formBuilder=i,this.mode=""}ngOnInit(){this.mode=this.productData.id?"Edit":"New",this.productForm=this.formBuilder.group({id:[this.productData.id],productName:[this.productData.productName],productDescription:[this.productData.productDescription],orignalPrice:[this.productData.orignalPrice],currentPrice:[this.productData.currentPrice],currentCost:[this.productData.currentCost],unitName:[this.productData.unitName],displayPercentage:[this.productData.displayPercentage],displayUnitName:[this.productData.displayUnitName],imageURL:[this.productData.imageURL],visible:[this.productData.visible],order:[this.productData.order],productCategoryId:[this.productData.productCategoryId]})}onSubmit(){var r=this;return(0,m.Z)(function*(){const o=r.productForm.value;if(o)if(console.log("Product Form Value:",JSON.stringify(o)),"New"===r.mode)try{yield r.productService.addProduct(o),r.dialogRef.close()}catch(n){console.error("Error adding product:",n)}else try{yield r.productService.updateProduct(o),console.log("Product updated successfully."),r.dialogRef.close()}catch(n){console.error("Error updating product:",n)}else console.error("Product form value is undefined.")})()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(f.WI),t.Y36(J),t.Y36(f.so),t.Y36(l.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-product"]],decls:54,vars:23,consts:[[1,"p-0"],[1,""],[1,"card-title-text"],[3,"formGroup"],["fxLayout","row wrap"],["fxFlex","200","fxFlex.gt-xs","100",1,"pr-8"],[1,"pb-8"],[1,"full-width"],["matInput","","name","productName","formControlName","productName","placeholder","Product Name",3,"ngModel","ngModelChange"],["class","form-error-msg",4,"ngIf"],["matInput","","name","productDescription","formControlName","productDescription","placeholder","Product Description",3,"ngModel","ngModelChange"],["matInput","","name","orignalPrice","formControlName","orignalPrice","placeholder","Original Price",3,"ngModel","ngModelChange"],["matInput","","name","currentPrice","formControlName","currentPrice","placeholder","Current Price",3,"ngModel","ngModelChange"],["matInput","","name","currentCost","formControlName","currentCost","placeholder","Current Cost",3,"ngModel","ngModelChange"],["matInput","","name","unitName","formControlName","unitName","placeholder","Unit Name",3,"ngModel","ngModelChange"],["matInput","","name","displayPercentage","formControlName","displayPercentage","placeholder","Display Percentage",3,"ngModel","ngModelChange"],["matInput","","name","displayUnitName","formControlName","displayUnitName","placeholder","Display Unit Name",3,"ngModel","ngModelChange"],["matInput","","name","imageURL","formControlName","imageURL","placeholder","Image URL",3,"ngModel","ngModelChange"],["name","visible","formControlName","visible",1,"pb-16",3,"ngModel","ngModelChange"],["OnlyNumber","true","matInput","","name","order","formControlName","order","placeholder","Order",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"form-error-msg"]],template:function(r,o){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-title",1)(2,"div",2),t._uU(3,"Product"),t.qZA(),t._UZ(4,"mat-divider"),t.qZA(),t.TgZ(5,"mat-card-content")(6,"form",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"mat-form-field",7)(11,"input",8),t.NdJ("ngModelChange",function(i){return o.productData.productName=i}),t.qZA()(),t.YNc(12,at,2,0,"small",9),t.qZA(),t.TgZ(13,"div",6)(14,"mat-form-field",7)(15,"input",10),t.NdJ("ngModelChange",function(i){return o.productData.productDescription=i}),t.qZA()(),t.YNc(16,nt,2,0,"small",9),t.qZA(),t.TgZ(17,"div",6)(18,"mat-form-field",7)(19,"input",11),t.NdJ("ngModelChange",function(i){return o.productData.orignalPrice=i}),t.qZA()(),t.YNc(20,it,2,0,"small",9),t.qZA(),t.TgZ(21,"div",6)(22,"mat-form-field",7)(23,"input",12),t.NdJ("ngModelChange",function(i){return o.productData.currentPrice=i}),t.qZA()(),t.YNc(24,ct,2,0,"small",9),t.qZA(),t.TgZ(25,"div",6)(26,"mat-form-field",7)(27,"input",13),t.NdJ("ngModelChange",function(i){return o.productData.currentCost=i}),t.qZA()(),t.YNc(28,dt,2,0,"small",9),t.qZA(),t.TgZ(29,"div",6)(30,"mat-form-field",7)(31,"input",14),t.NdJ("ngModelChange",function(i){return o.productData.unitName=i}),t.qZA()(),t.YNc(32,lt,2,0,"small",9),t.qZA(),t.TgZ(33,"div",6)(34,"mat-form-field",7)(35,"input",15),t.NdJ("ngModelChange",function(i){return o.productData.displayPercentage=i}),t.qZA()(),t.YNc(36,ut,2,0,"small",9),t.qZA(),t.TgZ(37,"div",6)(38,"mat-form-field",7)(39,"input",16),t.NdJ("ngModelChange",function(i){return o.productData.displayUnitName=i}),t.qZA()(),t.YNc(40,mt,2,0,"small",9),t.qZA(),t.TgZ(41,"div",6)(42,"mat-form-field",7)(43,"input",17),t.NdJ("ngModelChange",function(i){return o.productData.imageURL=i}),t.qZA()(),t.YNc(44,st,2,0,"small",9),t.qZA(),t.TgZ(45,"div",6)(46,"mat-checkbox",18),t.NdJ("ngModelChange",function(i){return o.productData.visible=i}),t._uU(47,"Visible"),t.qZA()(),t.TgZ(48,"div",6)(49,"mat-form-field",7)(50,"input",19),t.NdJ("ngModelChange",function(i){return o.productData.order=i}),t.qZA()(),t.YNc(51,pt,2,0,"small",9),t.qZA()()(),t.TgZ(52,"button",20),t.NdJ("click",function(){return o.onSubmit()}),t._uU(53,"Submit"),t.qZA()()()()),2&r&&(t.xp6(6),t.Q6J("formGroup",o.productForm),t.xp6(5),t.Q6J("ngModel",o.productData.productName),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.productName.touched&&o.productForm.controls.productName.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.productDescription),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.productDescription.touched&&o.productForm.controls.productDescription.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.orignalPrice),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.orignalPrice.touched&&o.productForm.controls.orignalPrice.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.currentPrice),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.currentPrice.touched&&o.productForm.controls.currentPrice.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.currentCost),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.currentCost.touched&&o.productForm.controls.currentCost.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.unitName),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.unitName.touched&&o.productForm.controls.unitName.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.displayPercentage),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.displayPercentage.touched&&o.productForm.controls.displayPercentage.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.displayUnitName),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.displayUnitName.touched&&o.productForm.controls.displayUnitName.hasError("required")),t.xp6(3),t.Q6J("ngModel",o.productData.imageURL),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.imageURL.touched&&o.productForm.controls.imageURL.hasError("required")),t.xp6(2),t.Q6J("ngModel",o.productData.visible),t.xp6(4),t.Q6J("ngModel",o.productData.order),t.xp6(1),t.Q6J("ngIf",o.productForm.controls.order.touched&&o.productForm.controls.order.hasError("required")),t.xp6(1),t.Q6J("disabled",o.productForm.invalid))},dependencies:[C.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,A.oG,h.lW,D.KE,U.Nt,b.d,g.a8,g.dn,g.n5,p.xw,p.yH,q]}),e})();function gt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Product Name"),t.qZA())}function ft(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.productName)}}function Ct(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Product Description"),t.qZA())}function ht(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.productDescription)}}function _t(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Original Price"),t.qZA())}function yt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.orignalPrice)}}function Zt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Current Price"),t.qZA())}function Nt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.currentPrice)}}function vt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Current Cost"),t.qZA())}function Pt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.currentCost)}}function Tt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Unit Name"),t.qZA())}function xt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.unitName)}}function At(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Display Percentage"),t.qZA())}function Dt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.displayPercentage)}}function Ut(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Display Unit Name"),t.qZA())}function bt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.displayUnitName)}}function qt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Image URL"),t.qZA())}function Mt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._UZ(1,"img",21),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Q6J("src",r.imageURL,t.LSH)}}function wt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Visible"),t.qZA())}function Jt(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.visible)}}function Yt(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1,"Order"),t.qZA())}function It(e,a){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const r=a.$implicit;t.xp6(1),t.Oqu(r.order)}}function St(e,a){if(1&e){const r=t.EpF();t.TgZ(0,"mat-header-cell")(1,"button",22),t.NdJ("click",function(){t.CHM(r);const n=t.oxw();return t.KtG(n.addNew())}),t.TgZ(2,"mat-icon",23),t._uU(3,"add"),t.qZA()()()}}function Ft(e,a){if(1&e){const r=t.EpF();t.TgZ(0,"td",20)(1,"button",24),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw();return t.KtG(u.editItem(i))}),t.TgZ(2,"mat-icon",25),t._uU(3,"edit"),t.qZA()(),t.TgZ(4,"button",24),t.NdJ("click",function(){const i=t.CHM(r).$implicit,u=t.oxw();return t.KtG(u.deleteItem(i))}),t.TgZ(5,"mat-icon",26),t._uU(6,"delete"),t.qZA()()()}}function Qt(e,a){1&e&&t._UZ(0,"tr",27)}function Rt(e,a){1&e&&t._UZ(0,"tr",28)}const I=function(){return["productName","productDescription","orignalPrice","currentPrice","currentCost","unitName","displayPercentage","displayUnitName","imageURL","visible","order","actions"]},kt=[{path:"",children:[{path:"catagory",component:ot,data:{title:"Catagory",breadcrumb:"Catagory"}},{path:"product",component:(()=>{class e{constructor(r,o){this.productService=r,this.dialog=o,this.displayedColumns=["productName","productDescription","orignalPrice","currentPrice","currentCost","unitName","displayPercentage","displayUnitName","imageURL","visible","order","action"]}ngAfterViewInit(){}ngOnInit(){this.productService.loadProducts().then(()=>{this.productsDataSource$=this.productService.getProducts().pipe((0,P.U)(r=>new d.by(r)))})}addNew(){this.dialog.open(Y,{data:new rt("","",0,0,0,"",0,"",!0,0,"")}).afterClosed().subscribe(o=>{o&&this.productService.loadProducts()})}editItem(r){var o=this;console.log("data "+r.id.toString()),this.dialog.open(Y,{data:r}).afterClosed().subscribe(function(){var i=(0,m.Z)(function*(u){if(u)try{yield o.productService.updateProduct(u),o.productService.loadProducts()}catch(s){console.error("Error updating product:",s)}});return function(u){return i.apply(this,arguments)}}())}deleteItem(r,o){var n=this;return(0,m.Z)(function*(){if(confirm("Are you sure to delete "+o.productName))try{yield n.productService.deleteProduct(o),n.productService.loadProducts()}catch(i){console.error("Error deleting product:",i)}})()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(J),t.Y36(f.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:41,vars:7,consts:[["fxLayout","row wrap",1,"p-0","overflow-x-auto"],["mat-table","","fxFlex","",1,"mat-elevation-z1","min-w-600",3,"dataSource"],["matColumnDef","productName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","productDescription"],["matColumnDef","orignalPrice"],["matColumnDef","currentPrice"],["matColumnDef","currentCost"],["matColumnDef","unitName"],["matColumnDef","displayPercentage"],["matColumnDef","displayUnitName"],["matColumnDef","imageURL"],["matColumnDef","visible"],["matColumnDef","order"],["matColumnDef","actions"],[4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["alt","Product Image",2,"max-width","50px","max-height","50px",3,"src"],["mat-icon-button","","color","primary",3,"click"],["aria-label","Example icon-button with a heart icon"],["mat-icon-button","","color","accent",3,"click"],["aria-label","Edit"],["aria-label","Delete"],["mat-header-row",""],["mat-row",""]],template:function(r,o){1&r&&(t.TgZ(0,"mat-card",0)(1,"table",1),t.ALo(2,"async"),t.ynx(3,2),t.YNc(4,gt,2,0,"th",3),t.YNc(5,ft,2,1,"td",4),t.BQk(),t.ynx(6,5),t.YNc(7,Ct,2,0,"th",3),t.YNc(8,ht,2,1,"td",4),t.BQk(),t.ynx(9,6),t.YNc(10,_t,2,0,"th",3),t.YNc(11,yt,2,1,"td",4),t.BQk(),t.ynx(12,7),t.YNc(13,Zt,2,0,"th",3),t.YNc(14,Nt,2,1,"td",4),t.BQk(),t.ynx(15,8),t.YNc(16,vt,2,0,"th",3),t.YNc(17,Pt,2,1,"td",4),t.BQk(),t.ynx(18,9),t.YNc(19,Tt,2,0,"th",3),t.YNc(20,xt,2,1,"td",4),t.BQk(),t.ynx(21,10),t.YNc(22,At,2,0,"th",3),t.YNc(23,Dt,2,1,"td",4),t.BQk(),t.ynx(24,11),t.YNc(25,Ut,2,0,"th",3),t.YNc(26,bt,2,1,"td",4),t.BQk(),t.ynx(27,12),t.YNc(28,qt,2,0,"th",3),t.YNc(29,Mt,2,1,"td",4),t.BQk(),t.ynx(30,13),t.YNc(31,wt,2,0,"th",3),t.YNc(32,Jt,2,1,"td",4),t.BQk(),t.ynx(33,14),t.YNc(34,Yt,2,0,"th",3),t.YNc(35,It,2,1,"td",4),t.BQk(),t.ynx(36,15),t.YNc(37,St,4,0,"mat-header-cell",16),t.YNc(38,Ft,7,0,"td",4),t.BQk(),t.YNc(39,Qt,1,0,"tr",17),t.YNc(40,Rt,1,0,"tr",18),t.qZA()()),2&r&&(t.xp6(1),t.Q6J("dataSource",t.lcZ(2,3,o.productsDataSource$)),t.xp6(38),t.Q6J("matHeaderRowDef",t.DdM(5,I)),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(6,I)))},dependencies:[h.lW,g.a8,w.Hw,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,p.xw,p.yH,C.Ov],data:{animation:v.i}}),e})(),data:{title:"Product",breadcrumb:"Product"}}]}];var Lt=c(89383),Ot=c(61937),Et=c(62769);let Bt=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[_,d.by],imports:[C.ez,l.u5,Lt.aw,l.UX,Ot.m,F.o9,Et.Xd,N.JF,S.Bz.forChild(kt)]}),e})()}}]);